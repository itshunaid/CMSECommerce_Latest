@* This component displays the average rating and star breakdown *@

<div class="row review-summary my-4">
    <div class="col-md-4">
        <h3 class="mb-0">@ViewBag.AverageRating / 5</h3>
        @*  *@
        <p class="text-muted">@ViewBag.TotalReviews global ratings</p>
    </div>

    <div class="col-md-8">
        @for (int i = 5; i >= 1; i--)
        {
            int count = ViewBag.RatingCounts.ContainsKey(i) ? ViewBag.RatingCounts[i] : 0;
            double percent = (double)count / ViewBag.TotalReviews * 100;

            <div class="d-flex align-items-center mb-1">
                <span class="me-2">@i star</span>
                <div class="progress flex-grow-1" style="height:10px;">
                    <div class="progress-bar" role="progressbar"
                         style="width: @(percent)%; background-color: #ff9900;"
                         aria-valuenow="@percent" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <span class="ms-2">@count</span>
            </div>
        }
    </div>
</div>