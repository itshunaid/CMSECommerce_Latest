@model IEnumerable<Category>

<div class="amazon-sidebar-card">
    <div class="amazon-sidebar-title">Shop by Department</div>

    <ul class="amazon-list list-unstyled p-2">

        <li class="category-list-item @(string.IsNullOrEmpty(ViewBag.CategorySlug) ? "active-category" : "")">
            <a class="amazon-sidebar-link nav-link text-decoration-none d-flex justify-content-between align-items-center"
               asp-controller="Products"
               asp-action="Index"
               asp-route-slug="">
                <span>
                    <i class="fas fa-th-large me-2"></i>
                    All Departments
                </span>
            </a>
        </li>

        @foreach (var root in Model)
        {
            <partial name="_CategoryNode" model="Tuple.Create(root, 0)" />
        }

    </ul>
</div>

@section Styles {
    <style>
        .category-list-item {
            padding: 0;
            border-left: 3px solid transparent;
            transition: all 0.2s ease-in-out;
        }

            .category-list-item:hover {
                background-color: #f0f0f0;
            }

            .category-list-item .nav-link {
                color: var(--bs-dark) !important;
                padding: 0.75rem 1rem;
            }

        .active-category {
            border-left: 3px solid var(--bs-dark) !important;
            background-color: #e6e6e6 !important;
        }

            .active-category .nav-link {
                color: var(--bs-warning) !important;
                font-weight: 700;
            }

            .active-category .fa-chevron-right {
                display: none;
            }
    </style>
}
