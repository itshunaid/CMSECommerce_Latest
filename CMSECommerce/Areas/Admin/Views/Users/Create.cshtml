@model global::CMSECommerce.Areas.Admin.Models.CreateUserModel

@{
    ViewData["Title"] = "Create User";
}

<div class="row">
    <div class="col-md-8 offset-md-2">
        <h1>Create New User & Profile</h1>
        <hr />

        <form asp-action="Create" method="post">
            @Html.AntiForgeryToken()
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>

            <h3 class="mt-4 text-primary">Identity Details</h3>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group mt-3">
                        <label asp-for="UserName"></label>
                        <input asp-for="UserName" class="form-control" />
                        <span asp-validation-for="UserName" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group mt-3">
                        <label asp-for="Password"></label>
                        <input asp-for="Password" class="form-control" type="password" />
                        <span asp-validation-for="Password" class="text-danger"></span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group mt-3">
                        <label asp-for="Email"></label>
                        <input asp-for="Email" class="form-control" />
                        <span asp-validation-for="Email" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group mt-3">
                        <label asp-for="PhoneNumber"></label>
                        <input asp-for="PhoneNumber" class="form-control" />
                        <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                    </div>
                </div>
            </div>

            <div class="form-group mt-3">
                <label asp-for="Role"></label>
                <select asp-for="Role" class="form-select">
                    <option value="">-- none (no role assigned) --</option>
                    @if (ViewBag.Roles is List<string> roles)
                    {
                        @foreach (var r in roles)
                        {
                            <option value="@r">@r</option>
                        }
                    }
                </select>
            </div>

            <h3 class="mt-5 text-primary">Basic Profile Information</h3>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group mt-3">
                        <label asp-for="FirstName"></label>
                        <input asp-for="FirstName" class="form-control" />
                        <span asp-validation-for="FirstName" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group mt-3">
                        <label asp-for="LastName"></label>
                        <input asp-for="LastName" class="form-control" />
                        <span asp-validation-for="LastName" class="text-danger"></span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group mt-3">
                        <label asp-for="ITSNumber"></label>
                        <input asp-for="ITSNumber" class="form-control" />
                        <span asp-validation-for="ITSNumber" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group mt-3">
                        <label asp-for="Profession"></label>
                        <input asp-for="Profession" class="form-control" />
                        <span asp-validation-for="Profession" class="text-danger"></span>
                    </div>
                </div>
            </div>

            <div class="form-group mt-3">
                <label asp-for="About"></label>
                <textarea asp-for="About" class="form-control" rows="3"></textarea>
                <span asp-validation-for="About" class="text-danger"></span>
            </div>

            <div class="form-group mt-3">
                <label asp-for="ServicesProvided"></label>
                <input asp-for="ServicesProvided" class="form-control" placeholder="e.g., Web Design, Consulting, Plumbing (comma-separated)" />
                <span asp-validation-for="ServicesProvided" class="text-danger"></span>
            </div>

            <h3 class="mt-5 text-primary">Contact & Social Links</h3>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group mt-3">
                        <label asp-for="WhatsappNumber"></label>
                        <input asp-for="WhatsappNumber" class="form-control" />
                        <span asp-validation-for="WhatsappNumber" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group mt-3">
                        <label asp-for="LinkedInUrl"></label>
                        <input asp-for="LinkedInUrl" class="form-control" />
                        <span asp-validation-for="LinkedInUrl" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group mt-3">
                        <label asp-for="FacebookUrl"></label>
                        <input asp-for="FacebookUrl" class="form-control" />
                        <span asp-validation-for="FacebookUrl" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group mt-3">
                        <label asp-for="InstagramUrl"></label>
                        <input asp-for="InstagramUrl" class="form-control" />
                        <span asp-validation-for="InstagramUrl" class="text-danger"></span>
                    </div>
                </div>
            </div>


            <h3 class="mt-5 text-primary">Addresses & Phones</h3>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group mt-3">
                        <label asp-for="HomeAddress"></label>
                        <input asp-for="HomeAddress" class="form-control" />
                        <span asp-validation-for="HomeAddress" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group mt-3">
                        <label asp-for="HomePhoneNumber"></label>
                        <input asp-for="HomePhoneNumber" class="form-control" />
                        <span asp-validation-for="HomePhoneNumber" class="text-danger"></span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group mt-3">
                        <label asp-for="BusinessAddress"></label>
                        <input asp-for="BusinessAddress" class="form-control" />
                        <span asp-validation-for="BusinessAddress" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group mt-3">
                        <label asp-for="BusinessPhoneNumber"></label>
                        <input asp-for="BusinessPhoneNumber" class="form-control" />
                        <span asp-validation-for="BusinessPhoneNumber" class="text-danger"></span>
                    </div>
                </div>
            </div>


            <h3 class="mt-5 text-primary">Admin/Visibility Settings</h3>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group form-check mt-4">
                        <input asp-for="IsProfileVisible" class="form-check-input" />
                        <label asp-for="IsProfileVisible" class="form-check-label"></label>
                        <small class="text-muted d-block">@Html.DisplayNameFor(m => m.IsProfileVisible)</small>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group form-check mt-4">
                        <input asp-for="IsImageApproved" class="form-check-input" />
                        <label asp-for="IsImageApproved" class="form-check-label"></label>
                    </div>
                </div>
            </div>

            <hr class="mt-4" />

            <div class="form-group mt-4 mb-5">
                <button type="submit" class="btn btn-primary btn-lg">💾 Create User & Profile</button>
                <a asp-action="Index" class="btn btn-secondary ms-2">Cancel</a>
            </div>


            @* Note on Paths: ProfileImagePath, GpayQRCodePath, and PhonePeQRCodePath 
               are usually handled by file upload controls, not direct text inputs,
               but they can be added as hidden or text inputs if needed for the backend model.*@

        </form>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}